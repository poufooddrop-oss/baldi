<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Enter Password</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    :root { --bg:#231F20; --muted:#bfbfbf; }
    html,body { height:100%; margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial; background:var(--bg); color:#fff; }
    .center {
      height:100vh; display:flex; align-items:center; justify-content:center; flex-direction:column;
      gap:12px;
    }
    h1 { margin:0; font-size:20px; font-weight:600; color:var(--muted); }
    .controls { display:flex; gap:8px; align-items:center; }
    input[type="password"] {
      padding:10px 12px; font-size:16px; border-radius:8px; border: none; outline: none; text-align:center;
      box-shadow: 0 2px 6px rgba(0,0,0,0.6);
    }
    button {
      padding:10px 14px; font-size:15px; border-radius:8px; border:none; cursor:pointer;
      background:#fff; color:#111; font-weight:600;
    }
    button:active { transform:translateY(1px); }
    #error { color:#ff6b6b; margin-top:6px; display:none; }
    /* Doors grid */
    #doors {
      display:none;
      gap:30px;
      align-items:center;
      justify-content:center;
      padding:24px;
      flex-wrap:wrap;
    }
    .door {
      display:flex; flex-direction:column; align-items:center; gap:8px;
      cursor:pointer; user-select:none;
      transition:transform .14s ease, filter .14s ease;
      text-align:center;
    }
    .door img { width:230px; max-width:44vw; height:auto; border-radius:12px; box-shadow: 0 6px 20px rgba(0,0,0,0.6); }
    .door:hover { transform:translateY(-6px); filter:brightness(1.06); }
    .door-label { color:var(--muted); font-weight:600; }
    /* small screens */
    @media (max-width:520px) {
      .door img { width:160px; }
    }
  </style>
</head>
<body>
  <main class="center" id="main-center">
    <h1>Enter Password</h1>

    <div class="controls" role="form" aria-label="Password entry">
      <input id="pw" type="password" inputmode="text" autocomplete="off" placeholder="Password" aria-label="Password">
      <button id="go">Enter</button>
    </div>

    <div id="error" role="alert">Incorrect password â€” try again.</div>

    <!-- Doors container: hidden until correct password. Images are created/loaded by JS only after unlock. -->
    <div id="doors" aria-hidden="true"></div>
  </main>

  <script>
    (function(){
      const CORRECT = "plus29";
      const pw = document.getElementById("pw");
      const btn = document.getElementById("go");
      const err = document.getElementById("error");
      const doors = document.getElementById("doors");
      const mainCenter = document.getElementById("main-center");

      // URLs to navigate to when doors clicked
      const PLUS_URL = "https://poufooddrop-oss.github.io/baldi/plus";
      const REMASTER_URL = "https://poufooddrop-oss.github.io/baldi/remaster";

      // Filenames for images (relative to this page). Change if your files are elsewhere.
      const PLUS_IMG = "plusdoor.png";
      const REMASTER_IMG = "remasterdoor.png";

      // helper: create a door element
      function makeDoor(src, alt, label, targetUrl) {
        const wrapper = document.createElement("div");
        wrapper.className = "door";
        wrapper.tabIndex = 0; // focusable
        wrapper.setAttribute("role", "link");
        wrapper.setAttribute("aria-label", label);

        const img = document.createElement("img");
        img.alt = alt;
        // Set src lazily (image loads only when element is added to DOM)
        img.src = src;

        const lbl = document.createElement("div");
        lbl.className = "door-label";
        lbl.textContent = label;

        wrapper.appendChild(img);
        wrapper.appendChild(lbl);

        // click or key activation -> navigate
        wrapper.addEventListener("click", () => { window.location.href = targetUrl; });
        wrapper.addEventListener("keydown", (e) => {
          if (e.key === "Enter" || e.key === " ") {
            e.preventDefault();
            window.location.href = targetUrl;
          }
        });

        return wrapper;
      }

      // show doors (called after correct password)
      function showDoors() {
        // remove password UI but keep center layout
        // hide input and button
        pw.style.display = "none";
        btn.style.display = "none";
        err.style.display = "none";

        // optional heading change
        const heading = mainCenter.querySelector("h1");
        if (heading) heading.textContent = "Choose a door";

        // populate doors container and reveal it
        doors.innerHTML = ""; // ensure empty
        doors.appendChild(makeDoor(PLUS_IMG, "Plus door", "Baldi's Plus", PLUS_URL));
        doors.appendChild(makeDoor(REMASTER_IMG, "Remaster door", "Baldi Remaster", REMASTER_URL));
        doors.style.display = "flex";
        doors.setAttribute("aria-hidden", "false");
      }

      function fail() {
        err.style.display = "block";
        // subtle shake
        mainCenter.animate([
          { transform: "translateX(0)" },
          { transform: "translateX(-6px)" },
          { transform: "translateX(6px)" },
          { transform: "translateX(0)" }
        ], { duration: 200, iterations: 1 });
      }

      btn.addEventListener("click", () => {
        if (pw.value === CORRECT) {
          showDoors();
          // clear password from memory
          pw.value = "";
        } else {
          fail();
        }
      });

      pw.addEventListener("keydown", (e) => {
        if (e.key === "Enter") btn.click();
      });

      // Optional: prevent autofill focus weirdness on some browsers
      window.addEventListener("load", () => { pw.setAttribute("autocomplete","off"); pw.focus(); });

      // Security note (client-side): this is purely UI-level protection.
      // Anyone who can view the site source can see the correct password and the target URLs.
      // For stronger protection, use a server-side gate or host-protected pages.
    })();
  </script>
</body>
</html>
